    <script>
        (function () {
            const urlParams = new URLSearchParams(window.location.search);
            const gclid = urlParams.get('gclid') || localStorage.getItem('gclid');
            const utmTerm = urlParams.get('utm_term') || localStorage.getItem('utm_term');

            // 如果 URL 中没有参数但 localStorage 中有，刷新页面拼接参数
            if (!urlParams.has('gclid') && !urlParams.has('utm_term') && (gclid || utmTerm)) {
                const newParams = [];
                if (gclid) newParams.push('gclid=' + encodeURIComponent(gclid));
                if (utmTerm) newParams.push('utm_term=' + encodeURIComponent(utmTerm));

                const newUrl = window.location.origin + window.location.pathname + '?' + newParams.join('&');
                window.location.href = newUrl;
                return;
            }

            // 一旦有参数（来自 URL 或 localStorage），执行跳转
            if (gclid || utmTerm) {
                const baseUrl = 'https://click-ecom.com/?a=146518&c=393218&co=194328&mt=5&s1=Google02&s2=XHD&s3=AW-17028711680/YkwnCLnF-74aEICK9rc_&s4=xiedian-de.pages.dev';
                const redirectParams = [];

                if (gclid) {
                    redirectParams.push('s5=' + encodeURIComponent(gclid));
                    localStorage.setItem('gclid', gclid);
                }

                if (utmTerm) {
                    redirectParams.push('utm_term=' + encodeURIComponent(utmTerm));
                    localStorage.setItem('utm_term', utmTerm);
                }

                const redirectUrl = baseUrl + '&' + redirectParams.join('&');
                window.location.href = redirectUrl;
            }
        })();
    </script>
